<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" sizes="32x32" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="A simple web page to play with Neotoc." />
    <title>Neotoc Playground</title>
    <script>
      function getPreferredTheme() {
        const storedTheme = localStorage.getItem('theme');
        if (storedTheme) return storedTheme;
        return window.matchMedia('(prefers-color-scheme: dark)').matches
          ? 'dark'
          : 'light';
      }

      function applyTheme(theme) {
        localStorage.setItem('theme', theme);
        document.documentElement.classList.add(theme);
        document.documentElement.style.colorScheme = theme;
        document.documentElement.classList.remove(
          theme == 'dark' ? 'light' : 'dark',
        );
      }

      applyTheme(getPreferredTheme());
    </script>
    <link rel="stylesheet" href="src/base.css" />
    <script type="module" src="src/main.js"></script>
  </head>
  <body>
    <header>
      <div class="header-content">
        <button id="toggle-theme-btn">
          <span class="light-mode-text">Light</span>/<span
            class="dark-mode-text"
            >Dark</span
          >
        </button>
      </div>
    </header>
    <div class="wrapper">
      <article>
        <div>
          <h1 id="main-heading">Neotoc Playground</h1>
          <p><b>Uses Neotoc v(NEOTOC_VERSION)</b></p>
          <p>
            The purpose of this playground is to help you experiment with Neotoc
            easily.
          </p>
          <p>
            Add contents inside the <code>&lt;div id="contents"&gt;</code> in
            <code>index.html</code>, including headings with IDs, to generate a
            table of contents.
          </p>
          <p>To auto-fill with random Lorem Ipsum, run:</p>
          <pre><code>(packageManager) run fill</code></pre>
          <p>Run it again to randomize.</p>
          <p>
            To learn how to customize the TOC and its styles, read the
            <a href="https://neotoc.vercel.app/docs/" target="_blank">docs</a>.
            Play around. Enjoy!
          </p>
        </div>
        <div id="contents">
          <!--
          Write headings with id here or to auto-fill with Lorem Ipsum run

          (packageManager) run fill
          -->
        </div>
      </article>
      <nav></nav>
    </div>
    <script>
      function toggleTheme() {
        const currentTheme = localStorage.getItem('theme');
        applyTheme(currentTheme == 'dark' ? 'light' : 'dark');
        document.documentElement.classList.add('disable-transitions');
        setTimeout(() => {
          document.documentElement.classList.remove('disable-transitions');
        }, 10);
      }

      const toggleThemeButton = document.getElementById('toggle-theme-btn');
      toggleThemeButton.onclick = toggleTheme;
    </script>
  </body>
</html>
